define(["exports","./../layoutmanager.js"],function(_exports,_layoutmanager){function getTextStyles(settings,options){var list=[],multiplier={smaller:.5,small:.7,medium:1,large:1.3,larger:1.72,extralarge:2}[settings.textSize||"medium"];options.isCue||(multiplier*=_layoutmanager.default.tv?1.5:1.7),1!==multiplier&&list.push({name:"font-size",value:multiplier+"em"});var verticalPosition=settings.verticalPosition||"10";switch(list.push({name:"verticalPosition",value:verticalPosition}),settings.dropShadow||""){case"raised":list.push({name:"text-shadow",value:"-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black"});break;case"depressed":list.push({name:"text-shadow",value:"1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black"});break;case"uniform":list.push({name:"text-shadow",value:"-1px 0px #000000, 0px 1px #000000, 1px 0px #000000, 0px -1px #000000"});break;case"none":list.push({name:"text-shadow",value:"none"});break;default:list.push({name:"text-shadow",value:"#000000 0 0 .5em"})}var background=function(hex,alpha){if("transparent"===hex)return hex;var c;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex))return 3===(c=hex.substring(1).split("")).length&&(c=[c[0],c[0],c[1],c[1],c[2],c[2]]),c="0x"+c.join(""),alpha=Math.min(1,alpha),alpha=Math.max(0,alpha),"rgba("+[c>>16&255,c>>8&255,255&c].join(",")+","+alpha+")";throw new Error("Bad Hex")}(settings.textBackground,parseFloat(settings.textBackgroundOpacity));background&&list.push({name:"background-color",value:background});var textColor=settings.textColor||"#ffffff";return textColor&&list.push({name:"color",value:textColor}),list.push({name:"font-family",value:"inherit"}),list}function convertStyleListToObject(list){for(var obj={},i=0,length=list.length;i<length;i++)obj[function(name){switch(name){case"background-color":return"backgroundColor";case"text-shadow":return"textShadow";case"font-family":return"fontFamily";case"font-size":return"fontSize";default:return name}}(list[i].name)]=list[i].value;return obj}function getStyles(settings,options){return{text:getTextStyles(settings,options=options||{}),window:[]}}function applyStyleList(styles,elem){for(var i=0,length=styles.length;i<length;i++){var style=styles[i];elem.style[style.name]=style.value}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_layoutmanager=babelHelpers.interopRequireDefault(_layoutmanager);var _default={getStyles:getStyles,applyStyles:function(elements,appearanceSettings,options){var styles=getStyles(appearanceSettings,options);elements.text&&applyStyleList(styles.text,elements.text),elements.window&&applyStyleList(styles.window,elements.window)},getStyleObjects:function(settings,options){var styles=getStyles(settings,options);return{text:convertStyleListToObject(styles.text),window:convertStyleListToObject(styles.window)}}};_exports.default=_default});