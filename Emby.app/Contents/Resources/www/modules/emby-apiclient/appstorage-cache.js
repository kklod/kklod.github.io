define(["exports"],function(_exports){function updateCache(instance,localData){instance.cache.put("data",new Response(JSON.stringify(localData)))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;var _default=new(function(){function MyStore(){babelHelpers.classCallCheck(this,MyStore)}return babelHelpers.createClass(MyStore,[{key:"init",value:function(){var instance=this;return caches.open("embydata").then(function(cache){return(instance.cache=cache).match("data").then(function(response){return response?response.text().then(function(text){instance.localData=JSON.parse(text)}):(instance.localData={},Promise.resolve())},function(){instance.localData={}})})}},{key:"setItem",value:function(name,value){var localData=this.localData;localData&&localData[name]!==value&&(localData[name]=value,updateCache(this,localData))}},{key:"getItem",value:function(name){var localData=this.localData;if(localData)return localData[name]}},{key:"removeItem",value:function(name){var localData=this.localData;localData&&(localData[name]=null,delete localData[name],updateCache(this,localData))}}]),MyStore}());_exports.default=_default});