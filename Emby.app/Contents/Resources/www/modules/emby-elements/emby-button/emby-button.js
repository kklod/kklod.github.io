define(["exports","./../../emby-apiclient/connectionmanager.js","./../../common/globalize.js","./../../dom.js","./../../layoutmanager.js","./../../common/servicelocator.js","./../../approuter.js"],function(_exports,_connectionmanager,_globalize,_dom,_layoutmanager,_servicelocator,_approuter){function openPremiumInfo(){require(["registrationServices"],function(registrationServices){registrationServices.showPremiereInfo()})}function showPremiereInfoToPremiereUser(){_connectionmanager.default.currentApiClient().getCurrentUser().then(function(user){user.Policy.IsAdministrator&&_approuter.default.getRouteInfo("/embypremiere")?_approuter.default.show("embypremiere"):openPremiumInfo()})}function onAnchorClick(e){var url,href=this.getAttribute("href")||"";"#"===href?(e.preventDefault(),"premiereinfo"===this.getAttribute("data-preset")&&require(["registrationServices"],function(registrationServices){registrationServices.validateFeature("themes",{viewOnly:!0,showDialog:!0}).then(showPremiereInfoToPremiereUser)})):this.getAttribute("target")?-1===href.indexOf("emby.media/premiere")||_servicelocator.appHost.supports("externalpremium")?_servicelocator.appHost.supports("targetblank")||(e.preventDefault(),url=href,require(["shell"],function(shell){shell.openUrl(url)})):(e.preventDefault(),openPremiumInfo()):_approuter.default.handleAnchorClick(e)}function onInit(){this.hasInit||(this.hasInit=!0,this.classList.add("emby-button"),_layoutmanager.default.tv&&("false"!==this.getAttribute("data-focusscale")&&this.classList.add("emby-button-focusscale"),this.classList.add("emby-button-tv")))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_connectionmanager=babelHelpers.interopRequireDefault(_connectionmanager),_globalize=babelHelpers.interopRequireDefault(_globalize),_dom=babelHelpers.interopRequireDefault(_dom),_layoutmanager=babelHelpers.interopRequireDefault(_layoutmanager),_approuter=babelHelpers.interopRequireDefault(_approuter),require(["css!modules/emby-elements/emby-button/emby-button.css"]);var EmbyButton=function(_HTMLButtonElement){babelHelpers.inherits(EmbyButton,_HTMLButtonElement);var _super=_createSuper(EmbyButton);function EmbyButton(){var _this;babelHelpers.classCallCheck(this,EmbyButton);var self=_this=_super.call(this);return onInit.call(self),babelHelpers.possibleConstructorReturn(_this,self)}return babelHelpers.createClass(EmbyButton,[{key:"connectedCallback",value:function(){onInit.call(this)}},{key:"disconnectedCallback",value:function(){}}]),EmbyButton}(babelHelpers.wrapNativeSuper(HTMLButtonElement));customElements.define("emby-button",EmbyButton,{extends:"button"});var EmbyAnchor=function(_HTMLAnchorElement){babelHelpers.inherits(EmbyAnchor,_HTMLAnchorElement);var _super2=_createSuper2(EmbyAnchor);function EmbyAnchor(){var _this2;babelHelpers.classCallCheck(this,EmbyAnchor);var self=_this2=_super2.call(this);return onInit.call(self),babelHelpers.possibleConstructorReturn(_this2,self)}return babelHelpers.createClass(EmbyAnchor,[{key:"connectedCallback",value:function(){onInit.call(this),_dom.default.removeEventListener(this,"click",onAnchorClick,{}),_dom.default.addEventListener(this,"click",onAnchorClick,{}),"true"===this.getAttribute("data-autohide")&&(_servicelocator.appHost.supports("externallinks")&&_servicelocator.appHost.supports("externalappinfo")?this.classList.remove("hide"):this.classList.add("hide"))}},{key:"disconnectedCallback",value:function(){_dom.default.removeEventListener(this,"click",onAnchorClick,{})}}]),EmbyAnchor}(babelHelpers.wrapNativeSuper(HTMLAnchorElement));customElements.define("emby-linkbutton",EmbyAnchor,{extends:"a"});var EmbySectionTitle=function(){babelHelpers.inherits(EmbySectionTitle,EmbyAnchor);var _super3=_createSuper3(EmbySectionTitle);function EmbySectionTitle(){var _this3;babelHelpers.classCallCheck(this,EmbySectionTitle);var self=_this3=_super3.call(this);return babelHelpers.possibleConstructorReturn(_this3,self)}return babelHelpers.createClass(EmbySectionTitle,[{key:"addSeeAllButton",value:function(){var targetAttribute,html,parent,sectionTitleContainer;this.seeAllButton||_layoutmanager.default.tv||(targetAttribute="_blank"===this.target?' target="_blank"':"",html='<a href="'+(this.href||"#")+'"'+targetAttribute+' is="emby-linkbutton" class="secondaryText sectionSeeAllButton noautofocus button-link">'+_globalize.default.translate("HeaderSeeAll")+"</a>",(parent=this.parentNode).insertAdjacentHTML("beforeend",html),this.seeAllButton=parent.querySelector(".sectionSeeAllButton"),(sectionTitleContainer=this.closest(".sectionTitleContainer"))&&sectionTitleContainer.classList.add("sectionTitleContainer-withseeall"))}},{key:"connectedCallback",value:function(){EmbyAnchor.prototype.connectedCallback.call(this),this.addSeeAllButton()}},{key:"disconnectedCallback",value:function(){EmbyAnchor.prototype.disconnectedCallback.call(this)}},{key:"href",get:function(){return babelHelpers.get(babelHelpers.getPrototypeOf(EmbySectionTitle.prototype),"href",this)},set:function(value){babelHelpers.set(babelHelpers.getPrototypeOf(EmbySectionTitle.prototype),"href",value,this,!0);var seeAllButton=this.seeAllButton;seeAllButton&&(seeAllButton.href=value)}}]),EmbySectionTitle}();customElements.define("emby-sectiontitle",EmbySectionTitle,{extends:"a"}),_exports.default=EmbyButton});