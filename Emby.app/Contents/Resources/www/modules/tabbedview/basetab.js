define(["exports","./../dom.js","./../layoutmanager.js","./../backdrop/backdrop.js","./../shortcuts.js","./../common/usersettings/usersettings.js"],function(_exports,_dom,_layoutmanager,_backdrop,_shortcuts,_usersettings){function BaseTab(view,params){this.scroller=view.querySelector(".scrollFrameY,.tabSroller"),this.view=view}function clearSelectedInfoTimer(instance){var selectedItemInfoTimeout=instance.selectedItemInfoTimeout;selectedItemInfoTimeout&&(clearTimeout(selectedItemInfoTimeout),instance.selectedItemInfoTimeout=null)}function startSelectedInfoTimer(instance){clearSelectedInfoTimer(instance),instance.selectedItemInfoTimeout=setTimeout(function(){if(!this.paused){var focused=this._focusedElement;if(focused){var item=_shortcuts.default.getItemFromChildNode(focused,!0);if(!item||!item.ServerId)return;this._enableBackdrops&&_backdrop.default.setBackdrop(item)}}}.bind(instance),500)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_dom=babelHelpers.interopRequireDefault(_dom),_layoutmanager=babelHelpers.interopRequireDefault(_layoutmanager),_backdrop=babelHelpers.interopRequireDefault(_backdrop),_shortcuts=babelHelpers.interopRequireDefault(_shortcuts),_usersettings=babelHelpers.interopRequireDefault(_usersettings),BaseTab.prototype.addFocusBehavior=function(element){this._enableBackdrops=_layoutmanager.default.tv&&_usersettings.default.enableBackdrops(),this._enableBackdrops&&(this.boundonItemsContainerFocusIn||(this.boundonItemsContainerFocusIn=function(e){var focused=e.target;(this._focusedElement=focused)&&startSelectedInfoTimer(this)}.bind(this)),_dom.default.addEventListener(element,"focus",this.boundonItemsContainerFocusIn,{capture:!0,passive:!0}))},BaseTab.prototype.loadTemplate=function(){return Promise.resolve()},BaseTab.prototype.onTemplateLoaded=function(){return Promise.resolve()},BaseTab.prototype.onBeginResume=function(options){this.paused=!1;var scroller=this.scroller;scroller&&scroller.beginResume&&scroller.beginResume()},BaseTab.prototype.onResume=function(options){this.paused=!1;var scroller=this.scroller;scroller&&scroller.resume&&scroller.resume()},BaseTab.prototype.onPause=function(){this.paused=!0;var scroller=this.scroller;scroller&&scroller.pause&&scroller.pause(),clearSelectedInfoTimer(this)},BaseTab.prototype.destroy=function(){this.paused=null,this.scroller=null,this.view=null,this._focusedElement=null,this._enableBackdrops=null,clearSelectedInfoTimer(this)},_exports.default=BaseTab});