define(["exports","./../layoutmanager.js","./../common/globalize.js","./../approuter.js","./../dialoghelper/dialoghelper.js"],function(_exports,_layoutmanager,_globalize,_approuter,_dialoghelper){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function(text,title){var options;options="string"==typeof text?{title:title,text:text}:text;var deps,uiDeps=uiDependencies;uiDeps.length?(deps=uiDeps.slice(0),uiDependencies=[]):deps=[];return deps.unshift("text!modules/dialog/dialog.template.html"),require(deps).then(function(responses){return function(options,template){var dialogOptions={removeOnClose:!0,scrollY:!1,transparentBackground:!0},enableTvLayout=_layoutmanager.default.tv;enableTvLayout&&(dialogOptions.size="fullscreen");var dlg=_dialoghelper.default.createDialog(dialogOptions);dlg.classList.add("formDialog","align-items-center","justify-content-center"),dlg.innerHTML=_globalize.default.translateHtml(template,"sharedcomponents");var formDialogContent=dlg.querySelector(".formDialogContent");formDialogContent.classList.add("no-grow"),enableTvLayout?(formDialogContent.style["max-width"]="50%",formDialogContent.style["max-height"]="60%"):(dlg.classList.add("dialog-fullscreen-lowres"),dlg.classList.add("dialog-blur"));options.title?dlg.querySelector(".formDialogHeaderTitle").innerHTML=options.title||"":dlg.querySelector(".formDialogHeaderTitle").classList.add("hide");var i,length,dialogContentInner=dlg.querySelector(".dialogContentInner");!1!==options.centerText&&(dialogContentInner.style.textAlign="center");options.html?dialogContentInner.innerHTML=options.html:options.preFormattedText?dialogContentInner.innerHTML='<pre style="text-align:left;font-size:inherit;margin:0;">'+options.preFormattedText+"</pre>":options.text?dialogContentInner.innerText=(options.text||"").replaceAll("<br/>","\n"):dialogContentInner.classList.add("hide");var html="",hasDescriptions=!1,optionButtons=options.buttons||[];for(i=0,length=optionButtons.length;i<length;i++){var item=optionButtons[i],buttonClass="btnOption raised formDialogFooterItem formDialogFooterItem-autosize";item.type&&(buttonClass+=" button-"+item.type),item.description&&(hasDescriptions=!0),hasDescriptions&&(buttonClass+=" formDialogFooterItem-vertical formDialogFooterItem-nomarginbottom"),item.href?html+='<a is="emby-linkbutton" target="_blank" href="'+item.href+'" class="'+buttonClass+'" data-id="'+item.id+'">'+item.name+"</a>":html+='<button is="emby-button" type="button" class="'+buttonClass+'" data-id="'+item.id+'">'+item.name+"</button>",item.description&&(html+='<div class="formDialogFooterItem formDialogFooterItem-autosize fieldDescription" style="margin-top:.25em!important;margin-bottom:1.25em!important;">'+item.description+"</div>")}var dialogResult,formDialogFooter=dlg.querySelector(".formDialogFooter");(formDialogFooter.innerHTML=html)||(formDialogFooter.classList.add("hide"),dlg.querySelector(".scrollSlider").style["padding-bottom"]="3em",dlg.classList.add("dialog-automobile"),_layoutmanager.default.tv&&(dlg.querySelector(".formDialogHeader").insertAdjacentHTML("afterbegin",'<button is="paper-icon-button-light" class="btnCancel hide-mouse-idle-tv" tabindex="-1" style="position:absolute;top:1em;left:.75em;"><i class="md-icon">&#xE5C4;</i></button>'),dlg.querySelector(".btnCancel").addEventListener("click",onButtonClick)));hasDescriptions&&dlg.querySelector(".formDialogFooter").classList.add("formDialogFooter-vertical");function onButtonClick(){dialogResult=this.getAttribute("data-id"),_dialoghelper.default.close(dlg)}var timeout,buttons=dlg.querySelectorAll(".btnOption");for(i=0,length=buttons.length;i<length;i++)buttons[i].addEventListener("click",onButtonClick);options.timeout&&(timeout=setTimeout(function(){dialogResult="_timeout",_dialoghelper.default.close(dlg)},options.timeout));return _dialoghelper.default.open(dlg).then(function(){return timeout&&clearTimeout(timeout),dialogResult||Promise.reject()})}(options,responses[0])})},_layoutmanager=babelHelpers.interopRequireDefault(_layoutmanager),_globalize=babelHelpers.interopRequireDefault(_globalize),_approuter=babelHelpers.interopRequireDefault(_approuter),_dialoghelper=babelHelpers.interopRequireDefault(_dialoghelper);var uiDependencies=["material-icons","emby-button","paper-icon-button-light","emby-input","formDialogStyle","flexStyles","emby-scroller"]});