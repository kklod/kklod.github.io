define(["connectionManager"],function(connectionManager){"use strict";function BackdropScreenSaver(){this.name="Backdrop Screen Saver",this.type="screensaver",this.id="backdropscreensaver",this.supportsAnonymous=!1}return BackdropScreenSaver.prototype.show=function(){var apiClient,self;this.currentSlideshow||(apiClient=connectionManager.currentApiClient(),self=this,apiClient.getItems(apiClient.getCurrentUserId(),{ImageTypes:"Backdrop",EnableImageTypes:"Backdrop",IncludeItemTypes:"Movie,Series,MusicArtist,Game",SortBy:"Random",Recursive:!0,ImageTypeLimit:1,StartIndex:0,Limit:200}).then(function(result){var instance,items;result.Items.length&&(instance=self,items=result.Items,require(["slideshow"],function(slideshow){var newSlideShow;instance.currentSlideshow||((newSlideShow=new slideshow({showTitle:!0,cover:!0,items:items})).show(),instance.currentSlideshow=newSlideShow)}))}))},BackdropScreenSaver.prototype.hide=function(){var currentSlideshow=this.currentSlideshow;currentSlideshow&&(currentSlideshow.hide(),this.currentSlideshow=null)},BackdropScreenSaver});