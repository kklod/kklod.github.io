define(["mainTabsManager","globalize","syncJobList","localsync","emby-button","paper-icon-button-light"],function(mainTabsManager,globalize,syncJobList){"use strict";function getConvertTabs(){return[{href:"conversions?mode=convert",name:globalize.translate("Conversions")},{href:"serverdownloadsettings?mode=convert",name:globalize.translate("Settings")}]}function getDownloadTabs(){return[{href:"serverdownloads",name:globalize.translate("Downloads")},{href:"serverdownloadsettings",name:globalize.translate("Settings")}]}return function(view,params){var mySyncJobList=new syncJobList({serverId:ApiClient.serverId(),userId:"offline"===params.mode?null:ApiClient.getCurrentUserId(),element:view.querySelector(".syncActivity"),mode:params.mode});view.addEventListener("viewshow",function(){mainTabsManager.setTabs(this,0,"convert"===params.mode?getConvertTabs:getDownloadTabs)}),view.addEventListener("viewdestroy",function(){mySyncJobList.destroy()})}});