define(["loading","listViewStyle","emby-linkbutton"],function(loading){"use strict";return function(view,params){view.addEventListener("viewshow",function(){var page;page=view,loading.show(),ApiClient.getJSON(ApiClient.getUrl("Notifications/Types")).then(function(list){var html="",lastCategory="";html+=list.map(function(i){var itemHtml="";return i.Category!==lastCategory&&((lastCategory=i.Category)&&(itemHtml+="</div>",itemHtml+="</div>"),itemHtml+='<div class="verticalSection verticalSection-extrabottompadding">',itemHtml+='<div class="sectionTitleContainer" style="margin-bottom:1em;">',itemHtml+='<h2 class="sectionTitle">',itemHtml+=i.Category,itemHtml+="</h2>",itemHtml+="</div>",itemHtml+="<div>"),itemHtml+='<a class="listItem listItem-border" is="emby-linkbutton" data-ripple="false" href="server/notifications/notificationsetting.html?type='+i.Type+'">',itemHtml+='<div class="listItemImageContainer listItemImageContainer-square defaultCardBackground defaultCardBackground0" style="aspect-ratio:1;">',i.Enabled?itemHtml+='<i class="listItemIcon md-icon listItemIcon-transparent">notifications_active</i>':itemHtml+='<i class="listItemIcon md-icon listItemIcon-transparent secondaryText">notifications_off</i>',itemHtml+="</div>",itemHtml+='<div class="listItemBody">',itemHtml+='<div class="listItemBodyText">'+i.Name+"</div>",itemHtml+="</div>",itemHtml+='<button type="button" is="paper-icon-button-light"><i class="md-icon">edit</i></button>',itemHtml+="</a>"}).join(""),list.length&&(html+="</div>",html+="</div>"),page.querySelector(".notificationList").innerHTML=html,loading.hide()})})}});